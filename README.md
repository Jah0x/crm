# CRM для Vape Store

Этот проект представляет собой CRM-систему, построенную на основе React, TypeScript и Prisma. Он использует SQLite в качестве базы данных и организован по принципам feature-sliced.

## Быстрый старт

1. Установите зависимости:
   ```bash
   npm install
   ```
2. Запустите сервер разработки:
   ```bash
   npm run dev
   ```
3. Соберите проект для продакшна и просмотрите результат:
   ```bash
   npm run build
   npm run preview
   ```
4. Запустите миграции и сгенерируйте Prisma Client:
   ```bash
   npm run prisma:migrate
   npm run prisma:generate
   ```
5. Заполните базу тестовыми данными (опционально):
   ```bash
   npm run seed
   ```

## Структура каталогов

Исходный код находится в каталоге `src/` и организован по feature-sliced подходу:

- `app` — корневой модуль приложения, провайдеры и роутер.
- `entities` — базовые сущности (пользователь, товар и др.) и их модели.
- `features` — законченные бизнес-функции (авторизация, корзина, CRUD товаров).
- `widgets` — крупные виджеты интерфейса (например, панель статистики, корзина).
- `processes` — процессы длительного действия, такие как управление сменой.
- `pages` — страницы приложения.
- `shared` — общие утилиты, компоненты и хуки.

## Серверная логика

В файле `api.ts` реализованы функции для работы с пользователями, товарами, категориями, продажами и сменами. Они используют Prisma Client и экспортируются для использования в других частях проекта.

## Работа с базой данных

Схема базы описана в `prisma/schema.prisma`. Для подключения используется переменная окружения `DATABASE_URL` (пример: `DATABASE_URL="file:./dev.db"`).

## Тесты и линтинг

Перед коммитом рекомендуется запускать проверки:

```bash
npm run lint
npx tsx api.test.ts
```

Тесты находятся в файле `api.test.ts` и проверяют базовые функции API.

## Лицензия

Проект распространяется под лицензией MIT.
